(this.webpackJsonpTabLeTestApp=this.webpackJsonpTabLeTestApp||[]).push([[0],{11:function(e,t,n){e.exports={button:"Button_button__3b-PE",button__rounded:"Button_button__rounded___n0uV",button__default:"Button_button__default__Sgt4d",button__blue:"Button_button__blue__IgKeH",button__light_blue:"Button_button__light_blue__3IzCL",button__red:"Button_button__red__h2og3"}},14:function(e,t,n){e.exports={inputField:"InputField_inputField__NweHs",inputField__error:"InputField_inputField__error__2Sa9l",input:"InputField_input__2f8kY",input__error:"InputField_input__error__2UHd8"}},20:function(e,t,n){e.exports={title:"Headings_title__2cTOs",subtitle:"Headings_subtitle__108pI"}},26:function(e,t,n){e.exports={container:"AuthModal_container__2MITy",container__body:"AuthModal_container__body__1RPDf"}},27:function(e,t,n){e.exports={isFetching:"Preloader_isFetching__hFt4u",overlay:"Preloader_overlay__3JDbd"}},40:function(e,t,n){e.exports={wrapper:"App_wrapper__1P655"}},41:function(e,t,n){e.exports={button_block:"Login_button_block__1aYS0",checkbox_block:"Login_checkbox_block__1Iy-Y",bottom:"Login_bottom__3vxGA"}},70:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(16),o=n.n(c),i=n(10),s=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,75)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),c(e),o(e)}))},u=n(22),l=n(38),d=n(13),b=n.n(d),O=n(19),_=n(2),j=n(39),p=n.n(j).a.create({baseURL:"https://neko-back.herokuapp.com/2.0/",withCredentials:!0}),T=function(e){return p.post("auth/login",e).then((function(e){return e.data}))},f=function(){return p.post("auth/me",{})},h={status:"idle",isInitialized:!1,error:null},m=function(e){return{type:"TEST-PROJECT/ROOT/APP/SET-STATUS",status:e}},g=function(e){return{type:"TEST-PROJECT/ROOT/APP/SET-ERROR",error:e}},E=function(e){return{type:"TEST-PROJECT/ROOT/APP/IS-INITIALIZED",isInitialized:e}},v={_id:"",avatar:"",email:"",isAdmin:!1,name:"",publicCardPacksCount:0,rememberMe:!1,verified:!1,updated:{},created:{},isLoggedIn:!1,token:"",tokenDeathTime:{},__v:0},x=function(e){return{type:"TEST-PROJECT/ROOT/LOGIN/SET-IS-LOGGED-IN",value:e}},I=function(e){return{type:"TEST-PROJECT/ROOT/LOGIN/GET-USER",data:e}},S=Object(u.b)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TEST-PROJECT/ROOT/APP/SET-STATUS":return Object(_.a)(Object(_.a)({},e),{},{status:t.status});case"TEST-PROJECT/ROOT/APP/IS-INITIALIZED":return Object(_.a)(Object(_.a)({},e),{},{isInitialized:t.isInitialized});case"TEST-PROJECT/ROOT/APP/SET-ERROR":return Object(_.a)(Object(_.a)({},e),{},{error:t.error});default:return e}},login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TEST-PROJECT/ROOT/LOGIN/SET-IS-LOGGED-IN":return Object(_.a)(Object(_.a)({},e),{},{isLoggedIn:t.value});case"TEST-PROJECT/ROOT/LOGIN/GET-USER":return console.log(t.data),Object(_.a)(Object(_.a)(Object(_.a)({},e),t.data),{},{__v:0,isLoggedIn:!0});default:return e}}}),P=Object(u.c)(S,Object(u.a)(l.a));window.store=P;n(70);var w=n(4),R=n(40),N=n.n(R),y=n(29),C=n(41),k=n.n(C),A=n(26),L=n.n(A),F=n(20),G=n.n(F),J=n(1),B=function(e){var t=e.title;return Object(J.jsx)("h1",{className:G.a.title,children:t||"TEST"})},D=function(e){var t=e.children;return Object(J.jsx)("h2",{className:G.a.subtitle,children:t})},V=function(e){var t=e.children,n=e.title,r=e.subtitle;return Object(J.jsx)("div",{className:L.a.container,children:Object(J.jsxs)("div",{className:L.a.container__body,children:[Object(J.jsx)(B,{title:n}),Object(J.jsx)(D,{children:r}),t]})})},z=n(21),K=n(14),U=n.n(K),H=function(e){var t=e.onChange,n=e.onChangeText,r=e.onKeyPress,a=e.onEnter,c=e.error,o=(e.className,e.spanClassName),i=e.label,s=Object(z.a)(e,["onChange","onChangeText","onKeyPress","onEnter","error","className","spanClassName","label"]),u="".concat(U.a.error," ").concat(o||""),l="".concat(U.a.input," ").concat(c&&U.a.input__error);return Object(J.jsxs)("div",{className:U.a.inputField,children:[Object(J.jsx)("label",{"aria-required":!0,children:i}),Object(J.jsx)("input",Object(_.a)({onChange:function(e){t&&t(e),n&&n(e.currentTarget.value)},onKeyPress:function(e){r&&r(e),a&&"Enter"===e.key&&a()},className:l},s)),Object(J.jsx)("div",{className:U.a.inputField__error,children:c&&Object(J.jsx)("span",{className:u,children:c})})]})},M=n(11),Z=n.n(M),q=function(e){var t=e.color,n=(e.className,e.children),r=e.rounded,a=e.width,c=Object(z.a)(e,["color","className","children","rounded","width"]),o={width:a},i=" ".concat(Z.a.button," ").concat(r?Z.a.button__rounded:Z.a.button__default," \n    ").concat("dark-blue"===t?Z.a.button__blue:"light-blue"===t?Z.a.button__light_blue:Z.a.button__red);return Object(J.jsx)("button",Object(_.a)(Object(_.a)({className:i,style:o},c),{},{children:Object(J.jsx)("span",{children:n})}))},Y=n(27),$=n.n(Y),Q=n.p+"static/media/loader.67c2c9a0.svg",W=a.a.memo((function(){return Object(J.jsx)(J.Fragment,{children:Object(J.jsxs)("div",{className:$.a.isFetching,children:[Object(J.jsx)("img",{src:Q,alt:"loading spinner"}),Object(J.jsx)("div",{className:$.a.overlay})]})})})),X=a.a.memo((function(){var e=Object(r.useState)({email:"",password:"",rememberMe:!1}),t=Object(y.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)({emailValid:!1,passwordValid:!1,formErrors:{email:"",password:""}}),o=Object(y.a)(c,2),s=o[0],u=o[1],l=Object(i.c)((function(e){return e.login.isLoggedIn})),d=Object(i.c)((function(e){return e.app.status})),j=Object(i.c)((function(e){return e.app.error})),p=Object(i.b)(),f=function(e){switch(e.currentTarget.type){case"email":e.currentTarget.value?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.currentTarget.value)||u(Object(_.a)(Object(_.a)({},s),{},{emailValid:!0,formErrors:Object(_.a)(Object(_.a)({},s.formErrors),{},{email:"Invalid email address"})})):u(Object(_.a)(Object(_.a)({},s),{},{emailValid:!0,formErrors:Object(_.a)(Object(_.a)({},s.formErrors),{},{email:"Required"})}));break;case"password":e.currentTarget.value?e.currentTarget.value.length<6&&u(Object(_.a)(Object(_.a)({},s),{},{passwordValid:!0,formErrors:Object(_.a)(Object(_.a)({},s.formErrors),{},{password:"Invalid password, minimum length 8 characters"})})):u(Object(_.a)(Object(_.a)({},s),{},{passwordValid:!0,formErrors:Object(_.a)(Object(_.a)({},s.formErrors),{},{password:"Required"})}))}};return l?Object(J.jsx)(w.a,{to:ee.TEST_PACK}):Object(J.jsxs)(V,{subtitle:"Sign In",title:"TablesTest",children:["loading"===d&&Object(J.jsx)(W,{}),Object(J.jsxs)("form",{onSubmit:function(e){p(function(e){return function(){var t=Object(O.a)(b.a.mark((function t(n){var r,a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(m("loading")),t.next=4,T(e);case 4:r=t.sent,n(x(!0)),n(m("succeeded")),n(I(r)),t.next=15;break;case 10:t.prev=10,t.t0=t.catch(0),n(m("failed")),a=t.t0.response?t.t0.response.data.error:t.t0.message+", more details in the console",n(g(a));case 15:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(n)),e.preventDefault()},children:[Object(J.jsx)(H,{label:"Email",type:"email",value:n.email,onBlur:function(e){return f(e)},onChange:function(e){return a(Object(_.a)(Object(_.a)({},n),{},{email:e.target.value}))},error:s.emailValid?s.formErrors.email:null}),Object(J.jsx)(H,{label:"Password",type:"password",onBlur:function(e){return f(e)},value:n.password,onChange:function(e){return a(Object(_.a)(Object(_.a)({},n),{},{password:e.target.value}))},error:s.passwordValid?s.formErrors.password:null}),Object(J.jsxs)("div",{className:k.a.button_block,children:[Object(J.jsx)(q,{color:"dark-blue",rounded:!0,disabled:"loading"===d,children:"Login"}),Object(J.jsx)("pre",{style:{textAlign:"center"},children:j})]})]})]})})),ee={TEST_LOGIN:"/login",TEST_PAGE404:"/page404",TEST_PACK:"/pack"};var te=function(){Object(i.c)((function(e){return e.login.isLoggedIn})),Object(i.c)((function(e){return e.app.isInitialized}));var e=Object(i.b)();return Object(r.useEffect)((function(){e(function(){var e=Object(O.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f();case 3:t(E(!0)),t(m("succeeded")),e.next=14;break;case 7:e.prev=7,e.t0=e.catch(0),t(E(!0)),t(m("failed")),n="you are not authorized /\u1420-\ua788-\u141f\\"===e.t0.response.data.error?e.t0.response.data.error:e.t0.message+", more details in the console",t(g(n)),t(m("failed"));case 14:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())}),[e]),Object(J.jsx)("div",{className:N.a.wrapper,children:Object(J.jsxs)(w.d,{children:[Object(J.jsx)(w.b,{exact:!0,path:"/",render:function(){return Object(J.jsx)(X,{})}}),Object(J.jsx)(w.b,{exact:!0,path:ee.TEST_LOGIN,render:function(){return Object(J.jsx)(X,{})}}),Object(J.jsx)(w.a,{from:"*",to:ee.TEST_PAGE404})]})})},ne=n(18);o.a.render(Object(J.jsx)(i.a,{store:P,children:Object(J.jsx)(ne.a,{children:Object(J.jsx)(te,{})})}),document.getElementById("root")),s()}},[[74,1,2]]]);
//# sourceMappingURL=main.78c2bb10.chunk.js.map